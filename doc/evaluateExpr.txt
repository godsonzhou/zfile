用C#语言实现一个函数evalExpr，功能是根据传入的参数表计算表达式的值， 传入第一个参数expr是字符串（需要计算的表达式，比如"aaa+bbb=3"），第2个传入参数params是个字典dictionary<string,string>，比如{"aaa","1"}{"bbb","2"}。详细功能说明：需要支持常用的数学运算包括加减乘除和指数计算^，运算符为+、-、*、/、^。需要支持字符串连接计算，运算符为“+”。需要支持比较计算比如 大于 小于 等于 大于等于 小于等于 不等于，元素符分别为">" "<" "=" ">=" "<=" "!=" 。注意等于=和!=运算支持字符串比较和逻辑常量，比如abc="hello"，.true.!=.false. (计算结果为.true.)。需要支持逻辑运算与”&“、 或”|“、 非"!" ，需要支持优先级运算括号及嵌套比如99-(2/(3+1/2))*2.5，传入的参数可以是数字（整数或小数），用双引号包裹，比如{"aa","1.5"}表示传入变量aa，其值为1.5。也可以传入变量值为字符串，比如{"bb","'hello world'"}，注意字符串用单引号包裹，可以直接传入逻辑常量".true." ".false." 。 需要支持字串操作运算符为aa[0]表示aa变量值的第一个字符；而'hellowrold'[5]='w'这个表达式的计算结果为.true. 。支持常用三角函数比如sin(a) cos(b) tan(c) asin(x) acos(x) atan(x), 支持其他常用函数比如绝对值函数abs(a) 取符号函数sign(b) 取较大值max(a,b) 取较小值min(a,b) 向下取整floor(a) 向上进位cell(b) 四舍五入函数round(c) 取模 mod(7,3)=2 取余数运算符% 比如7%3=1

支持常用的数学运算、字符串连接、比较运算、逻辑运算和字符串操作。在 EvaluateExpr 函数中，首先替换表达式中的参数，然后调用 EvaluateInternal 函数进行实际的求值操作。EvaluateInternal 函数通过递归处理括号，按照运算符优先级依次处理指数、乘除、加减、字符串连接、比较、逻辑和字符串操作。最后尝试将结果解析为数字，如果失败则返回字符串。